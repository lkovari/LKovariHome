import{j as a}from"./chunk-BRUBZK7G.js";import{ba as i,g as o,ha as n}from"./chunk-MP4GGJGU.js";var b=(()=>{class t{constructor(){this.router=n(a),this.errorSource=new o([]),this.currentErrorEntries$=this.errorSource.asObservable(),this.errorEntries=[]}resetErrors(){this.errorEntries=[],this.errorSource.next(this.errorEntries)}addError(r,e=!1){let c=new Date().toISOString(),h=r.message||r.toString(),u=r.stack||"No stack trace available",E=e?r.url:this.router.url,l=r.status||"No status available",s={timestamp:c,message:h,stack:u,route:E,status:l};return this.changeErrorEntries([...this.errorEntries,s]),console.log(`Errors: ${this.errorEntries.length}`),s}changeErrorEntries(r){this.errorEntries=r,this.errorSource.next(this.errorEntries)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{b as a};
